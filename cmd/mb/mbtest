#!/bin/zsh
DIR=~/code/m/cmd/mb/theme-test
rm -rf $DIR
mb new site $DIR
INDEX=$DIR/index.md
LINKSECTION=$DIR/links.tmp
THEMELIST=$DIR/themelist.tmp

# Create an array of filenames
declare -a themes=(
	'wide'
	'pillar'
  'tradesman'
	)

# Create an array of variations
declare -a sidebars=(
  'left'
  'right'
  'no'
  )

# Array of modes
declare -a modes=(
  'dark'
  'light'
)

# Loop through the array
for theme in "${themes[@]}";
do
  echo "<a name=\"${theme}\"></a><br/>" >> $LINKSECTION
  echo "## Theme: ${theme}" >> $LINKSECTION
  echo "[${theme}](#${theme}) " >> $THEMELIST

  for sidebar in "${sidebars[@]}";
  do
    for mode in "${modes[@]}";
    do
      FILENAME=theme-${theme}-${sidebar}-${mode}
      echo ${FILENAME}.md
cat <<-EOM > $DIR/$FILENAME.md
---
Theme: ${theme}
Sidebar: ${sidebar}
Mode: ${mode}
---
# Auto-generated test for ${theme} theme

Here's what we know about the test.
* Theme is **${theme}** Acording to frontmatter it's **{{ .Page.FrontMatter.Theme }}**
* Sidebar should be on the **${sidebar}**.
* Mode should be **${mode}**

**Note**

* Resize this to check for responsive versions
* Check in all browsers

#### Code example
````
print "hello, world."
````
EOM
LINK="[${sidebar} sidebar, ${mode} mode](${FILENAME}.html)\n"
echo $LINK >> $LINKSECTION


    done
  done
done
cat $THEMELIST >> $INDEX
cat $LINKSECTION >> $INDEX
mb build $DIR
open $DIR/.mb/pub/index.html

